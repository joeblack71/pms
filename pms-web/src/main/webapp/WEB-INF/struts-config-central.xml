<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
	<data-sources />
	
	<form-beans>
		<form-bean name="LoginForm" type="com.myco.central.web.reservations.form.LoginForm" />
		<form-bean name="ListForm" type="com.myco.central.web.reservations.form.ListForm" />
		<form-bean name="ReservationForm" type="com.myco.central.web.reservations.form.ReservationForm" />
		<form-bean name="ReservationListForm" type="com.myco.central.web.reservations.form.ReservationListForm" />
		<form-bean name="CustomerForm" type="com.myco.central.web.reservations.form.CustomerForm" />
		<form-bean name="CustomerListForm" type="com.myco.central.web.reservations.form.CustomerListForm" />
		<form-bean name="RoomForm" type="com.myco.central.web.reservations.form.RoomForm" />
		<form-bean name="SourceForm" type="com.myco.central.web.reservations.form.SourceForm" />
		<form-bean name="SourceListForm" type="com.myco.central.web.reservations.form.SourceListForm" />
		<form-bean name="SpecialRateForm" type="com.myco.central.web.reservations.form.SpecialRateForm" />
		<form-bean name="AvailabilityForm" type="com.myco.central.web.reservations.form.AvailabilityForm" />
		<form-bean name="filterForm" type="com.myco.central.web.reservations.form.FilterForm" />
	</form-beans>
	
	<global-exceptions>
	</global-exceptions>
	
	<global-forwards>
			<forward name="access" path="/login.jsp" />
	</global-forwards>
	
	<action-mappings>
		<action path="/login"
			type="com.myco.central.commons.security.web.AuthenticateAction"
			parameter="authenticate"
			name="LoginForm"
			scope="request">
			<forward name="success" path="/startApplication.do"></forward>
			<forward name="error" path="/login.jsp"></forward>
		</action>
		<action path="/startApplication"
			type="com.myco.central.web.reservations.action.InitCentralSessionAction">
			<forward name="success" path="/pages/reservations/startApplication.html"></forward>
		</action>

		<!-- RESERVATION -->

		<action path="/ReservationList"
			type="com.myco.central.web.reservations.action.ReservationAction"
			parameter="reservationList"
			name="ReservationListForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/reservationList.jsp" />
		</action>

		<action path="/ReservationEdit"
			type="com.myco.central.web.reservations.action.ReservationAction"
			parameter="reservationEdit"
			name="ReservationForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/reservationEdit.jsp" />
		</action>

		<action path="/ReservationUpdate"
			type="com.myco.central.web.reservations.action.ReservationAction"
			parameter="reservationUpdate"
			name="ReservationForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/reservationEdit.jsp" />
			<forward name="error" path="/pages/reservations/reservationEdit.jsp" />
		</action>
		
		<action path="/ReservationSearch"
			type="com.myco.central.web.reservations.action.ReservationAction"
			parameter="reservationSearch">
			<forward name="success" path="/pages/reservations/reservationSearch.jsp" />
		</action>

		<action path="/ReservationAddGuest"
			type="com.myco.central.web.reservations.action.ReservationAction"
			parameter="reservationAddGuest"
			name="CustomerForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/customerEdit.jsp" />
		</action>
		
		<action path="/ReservationRefresh" forward="/options.jsp" />
		
		<action path="/ReservationRemoveGuest"
			type="com.myco.central.web.reservations.action.ReservationAction"
			parameter="reservationRemoveGuest"
			name="ReservationForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/_reservationGuests.jsp" />
		</action>
		<!-- Ajax -->
		<action path="/_reloadGuests"
			type="com.myco.central.web.reservations.action.ReservationAction"
			parameter="reloadGuests">
			<forward name="success" path="/pages/reservations/reservationEdit.jsp" />
		</action>
		
		<action path="/_retRoomRate"
			type="com.myco.central.web.reservations.action.ReservationAction"
			parameter="getRoomRate">
			<forward name="success" path="/pages/reservations/_roomRateValue.jsp" />
		</action>
		
		<!-- AVAILABILITY -->
		<action path="/RoomTypeAvailability"
			type="com.myco.central.action.AvailabilityAction"
			parameter="roomTypeAvailability"
			name="AvailabilityForm" scope="request">
			<forward name="success" path="/pages/reservations/availability.jsp" />
		</action>

		<action path="/ShowRoomTypeAvailability"
			type="com.myco.central.action.AvailabilityAction"
			parameter="showAvailability"
			name="AvailabilityForm" scope="request">
			<forward name="success" path="/pages/reservations/availability.jsp" />
		</action>

		<action path="/flashStatus"
			type="com.myco.central.web.reservations.action.RoomTypeStatusAction"
			parameter="showFlashStatus"
			name="filterForm" scope="request">
			<forward name="success" path="/pages/reservations/flashStatus.jsp" />
		</action>

		<action path="/forwardFlashStatus"
			type="com.myco.central.web.reservations.action.RoomTypeStatusAction"
			parameter="forwardFlashStatus"
			scope="request">
			<forward name="success" path="/pages/reservations/flashStatus.jsp" />
		</action>

		<!-- CUSTOMER -->

		<action path="/customerList"
			type="com.myco.central.web.reservations.action.CustomerAction"
			parameter="customerList"
			name="CustomerListForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/customerList.jsp" />
		</action>

		<action path="/customerEdit"
			type="com.myco.central.web.reservations.action.CustomerAction"
			parameter="customerEdit"
			name="CustomerForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/customerEdit.jsp"></forward>
		</action>

		<action path="/customerUpdate"
			type="com.myco.central.web.reservations.action.CustomerAction"
			parameter="customerUpdate"
			name="CustomerForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/customerEdit.jsp"></forward>
		</action>

		<!-- ROOM -->

		<action path="/RoomList"
			type="com.myco.central.action.RoomAction"
			parameter="roomList"
			name="RoomForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/roomList.jsp"></forward>
		</action>

		<action path="/RoomEdit"
			type="com.myco.central.action.RoomAction"
			parameter="roomEdit"
			name="RoomForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/roomEdit.jsp"></forward>
		</action>

		<action path="/RoomSave"
			type="com.myco.central.action.RoomAction"
			parameter="roomSave"
			name="RoomForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/roomEdit.jsp"></forward>
		</action>

		<action path="/RoomPrint"
			type="com.myco.central.action.RoomAction"
			parameter="roomPrint"
			name="RoomForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/roomEdit.jsp"></forward>
		</action>

		<!-- SOURCE -->

		<action path="/sourceList"
			type="com.myco.central.web.reservations.action.SourceAction"
			parameter="sourceList"
			name="SourceListForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/sourceList.jsp"></forward>
		</action>

		<action path="/sourceEdit"
			type="com.myco.central.web.reservations.action.SourceAction"
			parameter="sourceEdit"
			name="SourceForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/sourceEdit.jsp"></forward>
		</action>

		<action path="/sourceUpdate"
			type="com.myco.central.web.reservations.action.SourceAction"
			parameter="sourceUpdate"
			name="SourceForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/sourceEdit.jsp"></forward>
		</action>

		<action path="/selectSource"
			type="com.myco.central.web.reservations.action.SourceAction"
			parameter="sourceList"
			name="SourceListForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/selectSource.jsp"></forward>
		</action>

		<action path="/sourcePrint"
			type="com.myco.central.web.reservations.action.SourceAction"
			parameter="sourcePrint"
			name="SourceForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/sourceEdit.jsp"></forward>
		</action>

		<!-- RATES MANAGEMENT -->
		<action path="/specialRateList"
			type="com.myco.central.web.reservations.action.SpecialRateAction"
			parameter="specialRateList"
			name="SpecialRateForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/specialRateList.jsp"></forward>
		</action>

		<action path="/specialRateEdit"
			type="com.myco.central.web.reservations.action.SpecialRateAction"
			parameter="specialRateEdit"
			name="SpecialRateForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/specialRateEdit.jsp"></forward>
		</action>

		<action path="/specialRateUpdate"
			type="com.myco.central.web.reservations.action.SpecialRateAction"
			parameter="specialRateUpdate"
			name="SpecialRateForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/specialRateEdit.jsp"></forward>
		</action>

		<action path="/specialRatePrint"
			type="com.myco.central.web.reservations.action.SpecialRateAction"
			parameter="specialRatePrint"
			name="SpecialRateForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/specialRateEdit.jsp"></forward>
		</action>

		<action path="/_addRoomTypeRate"
			type="com.myco.central.web.reservations.action.SpecialRateAction"
			parameter="_addRoomTypeRate"
			name="SpecialRateForm" scope="request" validate="false">
			<forward name="success" path="/pages/reservations/_addRoomTypeRate.jsp"></forward>
		</action>

		<!-- Availability -->
		<action path="/AvailabilityShow"
			type="com.myco.central.action.AvailabilityAction"
			parameter="availabilityShow"
			name="AvailabilityForm"
			scope="request"
			validate="false">
			<forward name="success" path="/pages/reservations/availabilityShow.jsp"></forward>
		</action>
		
		<!-- Reservation Reports -->
 		<action path="/GuestbookingReport"
 			type="com.myco.central.action.GuestbookingReportsAction"
 			parameter="guestbookingReport">
 			<forward name="success" path="/pages/reservations/guestbookingReports.jsp"></forward>
 		</action>
 		
		<!-- AJAX calls -->

		<action path="/_RoomRateValue"
			type="com.myco.central.action.RoomRateAction"
			parameter="getRoomRateValue">
			<forward name="success" path="/pages/reservations/_roomRateValue.jsp"></forward>
		</action>

	</action-mappings>
	
	<!--controller bufferSize="4096" debug="0" /-->

    <!-- for tiles support -->
    <controller processorClass="org.apache.struts.tiles.TilesRequestProcessor" />

	<message-resources parameter="com.myco.central.MessageResources" />

	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<!-- Path to XML definition file -->
		<set-property property="definitions-config"
			value="/WEB-INF/tiles-defs.xml" />

		<!-- Set Module-awareness to true -->
		<set-property property="moduleAware" value="true" />
	</plug-in>

    <!-- for validation support -->
    <!--plug-in className="org.apache.struts.validator.ValidatorPlugIn">
      <set-property
          property="pathnames"
          value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml"/>
    </plug-in-->

   </struts-config>

